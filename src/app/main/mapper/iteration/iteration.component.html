<div>
  <div *ngFor="let mapping of triples; let index = index" fxLayout="row" fxLayoutAlign="start stretch">
    <div  class="triples-block" [fxFlex]="97">
    <app-mapper-cell [cellMapping]="mapping.getSubject()"
                     [isFirstChild]="isFirstSubject(mapping, index)"
                     [tabIndex]="index" [tabPosition]="1"
                     [cellType]="SUBJECT"
                     [namespaces]="getAllNamespaces()"
                     [sources]="sources"
                     (onDrop)="onDrop($event, mapping, SUBJECT, index)"
                     (onDelete)="onDelete($event, mapping, SUBJECT)"
                     (onValueSet)="onValueSet($event, mapping, SUBJECT, index)"
                     (onEditClick)="openMapperDialog($event, mapping, SUBJECT, index)"
                     appCypressData="subject" [fxFlex]="33"></app-mapper-cell>
    <app-mapper-cell [cellMapping]="mapping.getPredicate()"
                     [isTypeProperty]="mapping.isTypeProperty"
                     [isFirstChild]="isFirstPredicate(mapping, index)"
                     [cellType]="PREDICATE"
                     [namespaces]="getAllNamespaces()"
                     [sources]="sources"
                     [tabIndex]="index" [tabPosition]="2"
                     (onDrop)="onDrop($event, mapping, PREDICATE, index)"
                     (onDelete)="onDelete($event, mapping, PREDICATE)"
                     (onValueSet)="onValueSet($event, mapping, PREDICATE, index)"
                     (onEditClick)="openMapperDialog($event, mapping, PREDICATE, index)"
                     appCypressData="predicate" [fxFlex]="33"></app-mapper-cell>
    <app-mapper-cell [cellMapping]="mapping.getObject()"
                     [isTypeObject]="mapping.isTypeProperty"
                     [cellType]="OBJECT"
                     [tabIndex]="index" [tabPosition]="3"
                     [namespaces]="getAllNamespaces()"
                     [sources]="sources"
                     (onDrop)="onDrop($event, mapping, OBJECT, index)"
                     (onDelete)="onDelete($event, mapping, OBJECT)"
                     (onValueSet)="onValueSet($event, mapping, OBJECT, index)"
                     (onEditClick)="openMapperDialog($event, mapping, OBJECT, index)"
                     appCypressData="object" [fxFlex]="33"></app-mapper-cell>
    </div>

    <div [fxFlex]="3">
      <div>
        <span class="btn btn-link text-muted" *ngIf="isDeleteApplicable(index)">
			    <span class="icon-trash" (click)="deleteTripleMapping(mapping)"></span>
			  </span>
      </div>

      <div>
        <span class="btn btn-link text-muted" *ngIf="isInsertApplicable(index)">
			    <span class="icon-plus" (click)="insertMapping($event, mapping, index)"></span>
			  </span>
      </div>

      <div>
        <span class="btn btn-link text-muted" *ngIf="isPlusApplicable(index)">
			    <span class="icon-arrow-right" (click)="continueMapping($event, mapping, index)"></span>
			  </span>
      </div>
      &nbsp;
    </div>
  </div>
</div>
